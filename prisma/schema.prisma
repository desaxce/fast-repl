generator client {
    provider             = "prisma-client-py"
    recursive_type_depth = 5
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Repl {
    uuid       String   @id @default(uuid()) @db.Uuid
    created_at DateTime @default(now())
    max_uses   Int
    max_mem    Int
    header     String
    proofs     Proof[]
}

model Proof {
    uuid        String @id @default(uuid()) @db.Uuid
    id          String
    code        String
    diagnostics Json?
    response    Json?
    repl_uuid   String @db.Uuid
    repl        Repl   @relation(fields: [repl_uuid], references: [uuid])
}
